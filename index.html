<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قائمة المطعم - وجبات شهية</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="newPage.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">
                <span id="site-title">مطعم مشويات المنسي</span>
                <i class="fas fa-utensils me-2 text-primary"></i>
            </a>
            <div class="d-flex align-items-center">
                <button class="btn btn-outline-primary position-relative" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    تفاصيل طلبك
                    <span id="cart-count" class="badge bg-danger position-absolute top-0 start-100 translate-middle" style="display: none;">0</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section text-center">
        <canvas id="rainCanvas"></canvas>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-10 col-lg-8">
                    <h1 class="display-3 fw-bolder mb-4">أهلاً بكم في مطعم مشويات المنسي</h1>
                    <p class="lead fs-4 mb-5 opacity-75">أصيل الطعم المصري - اكتشفوا قائمة طعامنا المميزة من الأطباق المصرية الأصيلة والطعمية الطازجة والسلطات المنعشة.</p>
                </div>
            </div>
            <div class="hero-contact-buttons text-center mt-4">
                <div class="d-flex justify-content-center flex-wrap gap-3">
                    <a href="#" class="btn btn-hero btn-outline-success" id="whatsappHeroButton" title="تواصل معنا عبر الواتساب">
                        <i class="fab fa-whatsapp ms-2"></i> تواصل عبر الواتساب
                    </a>
                    <a href="tel:+201157299077" class="btn btn-hero btn-outline-light" id="callHeroButton" title="اتصل بنا مباشرة">
                        <i class="fas fa-phone ms-2"></i> اتصل بنا مباشرة
                    </a>
                    <a href="https://www.facebook.com/profile.php?id=100063558663777" target="_blank" class="btn btn-hero btn-outline-info" id="facebookHeroButton" title="تابعونا على الفيسبوك">
                        <i class="fab fa-facebook-f ms-2"></i> تابعنا على فيسبوك
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Menu Categories Navigation -->
    <section class="menu-nav-section py-4 bg-light">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12">
                    <div class="d-flex justify-content-center flex-wrap gap-3">
                        <button class="btn btn-outline-primary category-btn" data-category="cooking">
                            <i class="fas fa-fire ms-2"></i>التسوية
                        </button>
                        <button class="btn btn-outline-primary category-btn" data-category="meals">
                            <i class="fas fa-utensils ms-2"></i>الوجبات
                        </button>
                        <button class="btn btn-outline-primary category-btn" data-category="grilled">
                            <i class="fas fa-drumstick-bite ms-2"></i>المشويات
                        </button>
                        <button class="btn btn-outline-primary category-btn active" data-category="menu">
                            <i class="fas fa-book-open ms-2"></i>القائمة
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Menu Section -->
    <section class="menu-section py-5">
        <div class="container">
            <!-- Menu Section -->
            <div class="menu-category" id="menu">
                <h2 class="section-title text-center mb-5">
                    <i class="fas fa-book-open ms-3"></i>قائمة المطعم
                </h2>
                <div class="row justify-content-center" id="menu-container">
                    <!-- Menu cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Grilled Section -->
            <div class="menu-category" id="grilled" style="display: none;">
                <h2 class="section-title text-center mb-5">
                    <i class="fas fa-drumstick-bite ms-3"></i>المشويات
                </h2>
                <div class="row" id="grilled-container">
                    <!-- Grilled item cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Meals Section -->
            <div class="menu-category" id="meals" style="display: none;">
                <h2 class="section-title text-center mb-5">
                    <i class="fas fa-utensils ms-3"></i>الوجبات
                </h2>
                <div class="row" id="meals-container">
                    <!-- Meal item cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Cooking Section -->
            <div class="menu-category" id="cooking" style="display: none;">
                <h2 class="section-title text-center mb-5">
                    <i class="fas fa-fire ms-3"></i>التسوية
                </h2>
                <div class="row" id="cooking-container">
                    <!-- Cooking service cards will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Cart Section -->
    <div id="cartSection" class="container mt-5">
        <div class="card shadow-lg">
            <div class="card-header">
                <h4 class="mb-0"><i class="fas fa-shopping-cart ms-2"></i>طلبك</h4>
            </div>
            <div class="card-body p-4">
                <div id="cartItems" class="mb-4">
                    <!-- Cart items will be dynamically inserted here -->
                </div>
                <!-- Delivery Option in Cart -->
                <div class="delivery-option mt-3 mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="cartDeliveryOption" onchange="updateCartTotal()">
                        <label class="form-check-label" for="cartDeliveryOption">
                            <strong>إضافة خدمة التوصيل (+25 جنيه)</strong>
                            <small class="text-muted d-block">اختر هذا إذا كنت تريد التوصيل للمنزل</small>
                        </label>
                    </div>
                    
                    <!-- Hidden Location Detection -->
                    <div class="form-check mt-2" id="locationCheckContainer" style="display: none;">
                        <input class="form-check-input" type="checkbox" id="useCurrentLocation">
                        <label class="form-check-label" for="useCurrentLocation">
                            استخدم موقعي الحالي للتوصيل
                        </label>
                    </div>
                </div>

                <!-- Cart Total with Delivery -->
                <div class="cart-summary">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span id="cartSubtotal">0 جنيه</span>
                        <span>المجموع الفرعي:</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mb-2" id="cartDeliveryFeeRow" style="display: none;">
                        <span>25 جنيه</span>
                        <span>رسوم التوصيل:</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center border-top pt-3">
                        <h5 class="mb-0 cart-total" id="cartTotal">0 جنيه</h5>
                        <span>الإجمالي:</span>
                    </div>
                </div>
                
                <div class="text-center mt-4">
                    <button class="btn btn-checkout btn-lg w-100" onclick="proceedToOrder()">
                        المتابعة للطلب <i class="fas fa-arrow-left me-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Section -->
    <section class="py-5 bg-light" id="orderSection">
        <div class="container">
            <div class="card shadow-lg">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0"><i class="fas fa-clipboard-list ms-2"></i>أكمل طلبك</h4>
                </div>
                <div class="card-body p-4">
                    <form id="orderForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="customerName" class="form-label">الاسم الكامل *</label>
                                <input type="text" class="form-control" id="customerName" required 
                                       placeholder="أدخل اسمك الكامل" 
                                       title="يرجى ملء هذا الحقل">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="customerPhone" class="form-label">رقم الهاتف *</label>
                                <input type="tel" class="form-control" id="customerPhone" required 
                                       placeholder="أدخل رقم هاتفك" 
                                       title="يرجى ملء هذا الحقل">
                            </div>
                        </div>



                        <!-- Additional Notes Section -->
                        <div class="notes-section mb-4">
                            <h5><i class="fas fa-sticky-note ms-2"></i>معلومات إضافية</h5>
                            <div class="mb-3">
                                <label for="customerNotes" class="form-label">تعليمات خاصة أو ملاحظات</label>
                                <textarea class="form-control" id="customerNotes" rows="3" placeholder="أي طلبات خاصة أو قيود غذائية أو معلومات إضافية..."></textarea>
                            </div>
                        </div>

                        <!-- Order Summary -->
                        <div class="order-summary mb-4 p-3 bg-light rounded">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span id="orderSubtotal">0 جنيه</span>
                                <span>المجموع الفرعي:</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mb-2" id="deliveryFeeRow" style="display: none;">
                                <span id="deliveryFeeAmount">25 جنيه</span>
                                <span>رسوم التوصيل:</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center border-top pt-2">
                                <h5 class="mb-0 text-primary" id="orderTotal">0 جنيه</h5>
                                <span>الإجمالي:</span>
                            </div>
                        </div>

                        <!-- Payment Method -->
                        <div class="mb-4">
                            <h5><i class="fas fa-credit-card ms-2"></i>طريقة الدفع *</h5>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="payInHand" value="Pay in Hand" required checked>
                                <label class="form-check-label" for="payInHand">
                                    الدفع نقداً (عند الاستلام)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="paymentMethod" id="instapay" value="Instapay" required>
                                <label class="form-check-label" for="instapay">
                                    تحويل إنستاباي
                                </label>
                            </div>
                        </div>

                        <div class="text-center">
                            <button type="submit" class="btn whatsapp-btn btn-lg w-100">
                                <i class="fab fa-whatsapp ms-2"></i>اطلب عبر الواتساب
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="newPage.js"></script>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Full-screen Modal for Menu Images -->
    <div id="fullscreenModal" class="fullscreen-modal">
        <span class="modal-close" onclick="closeFullscreen()">&times;</span>
        <button class="modal-download" onclick="downloadCurrentImage()">
            <i class="fas fa-download ms-2"></i>تحميل
        </button>
        <div class="fullscreen-modal-content">
            <img id="fullscreenImage" src="" alt="Menu">
        </div>
    </div>
</body>
</html>
